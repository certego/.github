name: Certego Node.js Library CI

on:
  push:
    branches:
      - master
      - main
      - develop
      - dev
  pull_request:
    branches:
      - master
      - main
      - develop
      - dev

# discard previous execution if you commit to a branch that is already running
concurrency:
  group: ${{ github.workflow }}-${{ github.ref }}
  cancel-in-progress: true

jobs:
  node_linters:
    uses: certego/.github/.github/workflows/node_linter.yml@main
    with:
      working-directory: frontend
      use_eslint: true
      use_stylelint: true
      node_versions: >-
          [ "16" ]
  node_tests:
    uses: certego/.github/.github/workflows/node_tests.yml@main
    with:
      working-directory: frontend
      check_packages_licenses: true
      use_jest: true
      use_coverage: true
      upload_coverage: true
      node_versions: >-
          [ "16" ]